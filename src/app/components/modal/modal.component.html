<div 
  *ngIf="isVisible && config" 
  class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4"
  (click)="onBackdropClick($event)">
  <!-- Backdrop -->
  <div class="absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"></div>
  
  <!-- Modal -->
  <div 
    class="modal-content relative bg-white rounded-2xl shadow-2xl max-w-md w-full transform"
    (click)="$event.stopPropagation()">
    <!-- Header -->
    <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <i class="fas text-2xl" [ngClass]="[getIconClass(), getIconColorClass()]"></i>
        <h3 class="text-xl font-bold text-gray-900">{{ config.title }}</h3>
      </div>
      <button 
        *ngIf="!config.showCancel"
        (click)="onCancel()"
        class="text-gray-400 hover:text-gray-600 transition-colors"
        type="button">
        <i class="fas fa-times text-xl"></i>
      </button>
    </div>
    
    <!-- Body -->
    <div class="px-6 py-4">
      <p class="text-gray-700 leading-relaxed" [innerHTML]="config.message"></p>
    </div>
    
    <!-- Footer -->
    <div class="px-6 py-4 border-t border-gray-200 flex justify-end gap-3">
      <button 
        *ngIf="config.showCancel"
        (click)="onCancel()"
        class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"
        type="button">
        {{ config.cancelText || 'Annuler' }}
      </button>
      <button 
        (click)="onConfirm()"
        class="px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors"
        [ngClass]="getButtonClass()"
        type="button">
        {{ config.confirmText || 'OK' }}
      </button>
    </div>
  </div>
</div>
